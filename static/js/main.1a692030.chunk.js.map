{"version":3,"sources":["components/Spinner/Spinner.tsx","components/Nav/Nav.tsx","storage/Tokens.ts","storage/Storage.ts","helpers.ts","pages/Login/Login.tsx","pages/Callback/Callback.tsx","hooks.ts","bungie-api/destiny2-api.ts","components/ItemPopupStatBar/ItemPopupStatBar.tsx","components/ItemPopup/ItemPopupStats.tsx","components/ItemPopup/ItemPopup.tsx","hashes.ts","storage/IndexedDB.ts","storage/Scoring.ts","scoring/scoring.ts","scoring/items.ts","storage/Membership.ts","pages/Vendors/Vendors.tsx","pages/Settings/Settings.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Spinner","props","text","noOverlay","className","rest","classes","classNames","viewBox","transform","r","Nav","Locals","isAuthorized","to","Storage","getStorage","window","localStorage","storage","this","key","getItem","value","setItem","removeItem","keys","forEach","clearItem","TokenStorage","token","set","ALL_TOKENS","JSON","stringify","allTokens","get","parse","clearItems","instance","API_KEY","process","CLIENT_ID","CLIENT_SECRET","BUNGIE_ROOT","BUNGIE_API_ROOT","getActiveToken","a","getInstance","getAllTokens","clear","hasTokenExpired","accessToken","refreshToken","console","log","getAccessTokenFromRefreshToken","Error","$httpAuthenticated","config","error","headers","authorization","url","params","URLSearchParams","toString","fetch","method","body","then","response","json","$http","res","getAccessTokenFromCode","code","grant_type","client_id","client_secret","handleAccessToken","tokens","setAllTokens","access_token","data","inception","Date","now","expires","expires_in","name","bungieMembershipId","membership_id","refresh_token","refresh_expires_in","Promise","resolve","ok","reject","Login","history","useHistory","onSuccess","push","authorizationUrl","responseType","clientId","redirectUri","onFailure","buttonText","Callback","authCode","useLocation","search","getMembershipInfo","membershipId","getLinkedProfiles","membershipType","getAllMemberships","Response","linkedProfiles","destinyMembershipId","profiles","getProfile","components","profile","characters","getCharactersIds","membershipInfo","hunterId","hunter","titanId","titan","warlockId","warlock","profileCharacters","Object","id","classType","getManifest","getDestinyManifest","getDestinyInventoryItemManifest","manifest","getDestinyManifestSlice","destinyManifest","language","tableNames","manifestSlice","mapCharacterIds","getVendorsForAllCharacters","characterIds","fullResponse","all","map","getVendors","characterId","getVendorsTs","ItemPopupStatBar","stat","childDiv","height","width","backgroundColor","style","padding","color","fontWeight","ItemPopupStats","armorStats","Mobility","Resilience","Recovery","Discipline","Intellect","Strength","ItemPopup","armorInfo","show","onClickOutside","top","left","ref","useRef","handleClickOutside","event","target","current","contains","useEffect","document","addEventListener","removeEventListener","parentDivStyle","src","iconPath","flavorText","stats","classTypeMap","orderedClassKeys","vendorHashes","statHashes","armorTypes","openDB","upgrade","db","createObjectStore","dbp","val","put","storeManifest","DestinyInventoryItemDefinition","getDestinyInventoryItemDefinitionFromStore","ScoringStorage","scoring","SCORING","ArmorScoring","init","assign","sort","b","getScores","scoringStorage","storedScoring","getScoring","getTitanScoring","getHunterScoring","getWarlockScoring","rawScore","score","getRawScore","theoreticalMin","armorScoring","sortedSubGroup1","getSortedSubGroup1","sortedSubGroup2","getSortedSubGroup2","plugs","min","Number","MAX_VALUE","plug","subgroup1Score","subgroup2Score","i","getTheoreticalMin","theoreticalMax","maxStatPossible","minStatPossible","getTheoreticalMax","normalizedScore","Math","round","max","getNormalizedScore","getColors","gradient","tinygradient","colorHex","rgb","toHexString","normalizedColorHex","getDefaultScoring","getScorableItems","allVendors","classToArmor","classTypes","x","parseInt","d2inventoryItems","availableVendorIds","itemComponents","vendorIds","filter","includes","vendorId","getArmor","ArmorStats","vendors","vendorHash","armor","sales","saleItemsKeys","saleItems","saleItemKey","itemHash","itemSubType","summaryItemHash","displayProperties","icon","isScorable","saleKey","armorType","getArmorScores","scorableItems","getStats","scores","colors","statHash","statHashesMap","MembershipInfoStorage","MEMBERSHIP_INFO","Vendors","useState","loading","setLoading","spinnerText","setSpinnerText","armorScores","setArmorScores","showNormalized","setShowNormalized","classMaxes","setClassMaxes","classKeys","setOrderedClassKeys","orderedVendorKeys","setOrderedVendorKeys","showItemPopup","setShowItemPopup","itemPopupInfo","setItemPopupInfo","pos","setPos","tokenStorage","membershipInfoStorage","info","inventoryItemManifest","setMembershipInfo","getScorableArmor","scorableArmor","getCharacterMaxes","handleMissingKeys","getAllData","maxes","filteredClasses","filteredVendors","type","checked","onChange","classKey","vendorKey","scope","onClick","pageY","pageX","handleCellClicked","Settings","initialScoring","settings","setSettings","saveButtonText","setSaveButtonText","handleInputChange","e","split","characterSetting","onSubmit","preventDefault","setScoring","setTimeout","App","isAuthed","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"+cA2BeA,MAjBf,SAAiBC,GACf,IAAQC,EAAwCD,EAAxCC,KAAMC,EAAkCF,EAAlCE,UAAWC,EAAuBH,EAAvBG,UAAcC,EAAvC,YAAgDJ,EAAhD,GAEMK,EAAUC,IAAW,UAAWJ,GAAa,qBAAsBC,GAEzE,OACE,gDAASC,GAAT,IAAeD,UAAWE,EAA1B,UACE,qBAAKF,UAAU,kBAAf,SACE,qBAAKI,QAAQ,YAAb,SACE,wBAAQC,UAAU,mBAAmBC,EAAE,WAG1CR,EAAO,qBAAKE,UAAU,kBAAf,SAAkCF,IAAc,U,qBCF/CS,IClBVC,EDkBUD,EAZf,SAAaV,GACX,IAAQY,EAAiBZ,EAAjBY,aAER,OACE,sBAAKT,UAAU,SAAf,WACIS,GAAgB,cAAC,IAAD,CAAMC,GAAG,SAAT,mBACjBD,GAAgB,cAAC,IAAD,CAAMC,GAAG,WAAT,qBAChB,cAAC,IAAD,CAAMA,GAAG,YAAT,0B,+EETuBC,E,WAG5B,aAAsE,IAAnDC,EAAkD,uDAArC,kBAAgBC,OAAOC,cAAc,yBAFpDC,aAEoD,EACnEC,KAAKD,QAAUH,I,uCAGjB,SAAcK,GACZ,OAAOD,KAAKD,QAAQG,QAAQD,K,iBAG9B,SAAcA,EAAQE,GACpBH,KAAKD,QAAQK,QAAQH,EAAKE,K,uBAG5B,SAAoBF,GAClBD,KAAKD,QAAQM,WAAWJ,K,wBAG1B,SAAqBK,GAAkB,IAAD,OACpCA,EAAKC,SAAQ,SAACN,GACZ,OAAO,EAAKO,UAAUP,U,eDzBvBT,K,yBAAAA,M,SA6BgBiB,E,kDAGnB,aAAuB,wC,gDAWvB,SAAoBC,GAClBV,KAAKW,IAAInB,EAAOoB,WAAYC,KAAKC,UAAUJ,M,0BAG7C,WACE,IAAMK,EAAYf,KAAKgB,IAAIxB,EAAOoB,YAElC,OAAOG,EAAYF,KAAKI,MAAMF,GAAa,O,mBAG7C,WACEf,KAAKkB,WAAW,CAAC1B,EAAOoB,gB,0BAlB1B,WAKE,OAJKZ,KAAKmB,WACRnB,KAAKmB,SAAW,IAAIV,GAGfT,KAAKmB,a,GAZ0BxB,GAArBc,EACJU,c,EE7BV,IAAMC,EAAUC,mCACVC,EAAYD,QACZE,EAAgBF,8CAGhBG,EAAc,yBACdC,EAAe,UAAMD,EAAN,aAErB,SAAeE,IAAtB,+B,4CAAO,4BAAAC,EAAA,0DACCZ,EAAYN,EAAamB,cAAcC,iBAG3CpB,EAAamB,cAAcE,UAGFf,IAAcgB,EAAgBhB,EAAUiB,cAP9D,yCAQ0BjB,GAR1B,UAUuBA,IAAcgB,EAAgBhB,EAAUkB,eAElEC,QAAQC,IAAI,qCAZT,UAgBCpB,EAhBD,kCAgByBqB,EAA+BrB,EAAUkB,cAhBlE,uDAiBG,IAAII,MAjBP,wCAmBG,IAAIA,MAAM,WAnBb,2D,sBAuBA,SAAeC,EAAtB,kC,4CAAO,WAAkCC,GAAlC,qBAAAZ,EAAA,sEACeD,IADf,UACChB,EADD,6BAIHwB,QAAQM,MAAM,uBACR,IAAIH,MAAM,oBALb,OAaL,GANMI,EAAU,CACdC,cAAc,UAAD,OAAYhC,EAAMsB,YAAY7B,OAC3C,YAAaiB,GAGXuB,EAAMJ,EAAOI,IACbJ,EAAOK,OAAQ,CAEjB,IAAW3C,KAAOsC,EAAOK,OACO,qBAAvBL,EAAOK,OAAO3C,WAA+BsC,EAAOK,OAAO3C,GAEpE0C,EAAG,UAAMA,EAAN,YAAa,IAAIE,gBAAgBN,EAAOK,QAAkCE,YAlB1E,yBAqBEC,MAAMJ,EAAK,CAChBK,OAAQT,EAAOS,OACfC,KAAMV,EAAOU,KACbR,YACCS,MAAK,SAACC,GAAD,OAAcA,EAASC,WAzB1B,6C,sBA4BA,SAAeC,EAAtB,kC,4CAAO,WAAqBd,GAArB,SAAAZ,EAAA,+EACEoB,MAAMR,EAAOI,IAAK,CACvBK,OAAQT,EAAOS,OACfC,KAAMV,EAAOU,OACZC,MAAK,SAACI,GAAD,OAASA,EAAIF,WAJhB,4C,sBAOA,SAASG,EAAuBC,GACrC,IAAMP,EAAO,IAAIJ,gBAAgB,CAC/BY,WAAY,qBACZD,OACAE,UAAWpC,EACXqC,cAAepC,IAEjB,OAAOwB,MAAM,GAAD,OAAItB,EAAJ,qBAAwC,CAAEuB,OAAQ,OAAQC,SACnEC,MAAK,SAACI,GAAD,OAASA,EAAIF,UAClBF,KAAKU,GACLV,MAAK,SAACW,GAAD,OAAYpD,EAAamB,cAAckC,aAAaD,MAG9D,SAASD,EACPT,GAUA,UAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAUY,aAAc,CAC1B,IAAMC,EAAOb,EACPc,EAAYC,KAAKC,MAQjBN,EAAiB,CACrB7B,YARyB,CACzB7B,MAAO6D,EAAKD,aACZK,QAASJ,EAAKK,WACdC,KAAM,SACNL,aAKAM,mBAAoBP,EAAKQ,eAY3B,OATIR,EAAKS,gBACPZ,EAAO5B,aAAe,CACpB9B,MAAO6D,EAAKS,cACZL,QAASJ,EAAKU,mBACdJ,KAAM,UACNL,cAIGJ,EAEP,MAAM,IAAIxB,MAAM,aAIb,SAASD,EAA+BH,GAC7C,IAAMgB,EAAO,IAAIJ,gBAAgB,CAC/BY,WAAY,gBACZgB,cAAexC,EAAa9B,MAC5BuD,UAAWpC,EACXqC,cAAepC,IAGjB,OAAOoD,QAAQC,QACb7B,MAAM,GAAD,OAAItB,EAAJ,qBAAwC,CAC3CuB,OAAQ,OACRC,OACAR,QAAS,CAAE,eAAgB,uCAE1BS,MAAK,SAACC,GAAD,OAAeA,EAAS0B,GAAK1B,EAASC,OAASuB,QAAQG,OAAO3B,MACnED,KAAKU,GACLV,MAAK,SAACxC,GAEL,OADAD,EAAamB,cAAckC,aAAapD,GACjCA,MAKf,SAASqB,EAAgBrB,GACvB,IAAKA,EAAO,OAAO,EAEnB,IAAM0D,EAA0B,IAAhB1D,EAAM0D,QAAiB1D,EAAMuD,UAG7C,OAFYC,KAAKC,MAEJC,E,MCzHAW,MAzBf,WACE,IAAMC,EAAUC,cAEVC,EAAS,uCAAG,WAAO/B,GAAP,eAAAxB,EAAA,6DACV6B,EAAOL,EAASK,KADN,SAEVD,EAAuBC,GAFb,OAGhBwB,EAAQG,KAAK,YAHG,2CAAH,sDAQf,OACE,cAAC,IAAD,CACEC,iBAAiB,4CACjBC,aAAa,OACbC,SAAUhE,EACViE,YDhBsBlE,yDCiBtB6D,UAAWA,EACXM,UATc,SAACrC,GAAD,OAAwBjB,QAAQC,IAAIgB,IAUlDsC,WAAW,wBACXzG,UAAU,iBCfD0G,MARf,WACE,IAEMC,ECHC,IAAI9C,gBAAgB+C,cAAcC,QDGlB7E,IAAI,QAE3B,OAAO,oCAAI2E,GAAY,mCAAGA,O,wBESrB,SAAeG,EAAtB,kC,4CAAO,WAAiCC,GAAjC,yBAAApE,EAAA,sEACwBqE,YAAkB1D,EAAoB,CACjEyD,eACAE,eAAgB,IAChBC,mBAAmB,IAClBhD,MAAK,SAACC,GAAD,OAAcA,EAASgD,YAL1B,cACCC,EADD,OAMCC,EAAsBD,EAAeE,SAAS,GAAGP,aACjDE,EAAiBG,EAAeE,SAAS,GAAGL,eAP7C,SASiBM,YAAWjE,EAAoB,CACnD+D,sBACAG,WAAY,CAAC,KACbP,mBACC/C,MAAK,SAACC,GAAD,OAAcA,EAASgD,YAb1B,cASCM,EATD,OAeCC,EAAaC,EAAiBF,GAC9BG,EAAiC,CACrCrC,mBAAoBwB,EACpBM,sBACAJ,iBACAY,SAAUH,EAAWI,OACrBC,QAASL,EAAWM,MACpBC,UAAWP,EAAWQ,SAtBnB,kBAyBEN,GAzBF,6C,sBAkCP,SAASD,EAAiBF,GACxB,IAAII,EAA0B,KAC5BE,EAAyB,KACzBE,EAA2B,KAC7B,GAAIR,EAAQC,WAAW1C,KAAM,CAC3B,IAAMmD,EAAoBV,EAAQC,WAAW1C,KAC7CoD,OAAO9G,KAAKmG,EAAQC,WAAW1C,MAAMzD,SAAQ,SAAC8G,GAC5C,OAAQF,EAAkBE,GAAIC,WAC5B,KAAK,EACHP,EAAUM,EACV,MACF,KAAK,EACHR,EAAWQ,EACX,MACF,KAAK,EACHJ,EAAYI,EACZ,MACF,QACE,MAAM,IAAIhF,MAAM,0BAKxB,MAAO,CACLyE,OAAQD,EACRG,MAAOD,EACPG,QAASD,GAIN,SAAeM,IAAtB,+B,4CAAO,4BAAA5F,EAAA,sEACkB6F,YAAmBnE,GADrC,cACCF,EADD,yBAEEA,EAASgD,UAFX,4C,sBAKA,SAAesB,KAAtB,gC,8CAAO,8BAAA9F,EAAA,sEAGkB4F,IAHlB,cAGCG,EAHD,gBAIuBC,YAAwBtE,EAAO,CACzDuE,gBAAiBF,EACjBG,SAAU,KACVC,WAAY,CAAC,iCAAkC,2BAP5C,cAICC,EAJD,yBASEA,GATF,4C,sBAiBP,SAASC,GAAgBpB,GACvB,IAAMC,EAAWD,EAAeC,SAC1BE,EAAUH,EAAeG,QACzBE,EAAYL,EAAeK,UAE3B9G,EAAyB,GAK/B,OAHI4G,GAAS5G,EAAMgF,KAAK,CAAEkC,GAAIN,EAASO,UAAW,IAC9CT,GAAU1G,EAAMgF,KAAK,CAAEkC,GAAIR,EAAUS,UAAW,IAChDL,GAAW9G,EAAMgF,KAAK,CAAEkC,GAAIJ,EAAWK,UAAW,IAC/CnH,EAGF,SAAe8H,GAAtB,mC,8CAAO,WAA0CrB,GAA1C,iBAAAjF,EAAA,6DACCuG,EAAeF,GAAgBpB,GAE/BuB,EAA0D,GAH3D,SAICxD,QAAQyD,IACZF,EAAaG,IAAb,uCAAiB,iCAAA1G,EAAA,6DAAS0F,EAAT,EAASA,GAAIC,EAAb,EAAaA,UAAb,SACQgB,GAAWjB,EAAIT,EAAeP,oBAAqBO,EAAeX,gBAD1E,OACT9C,EADS,OAEfgF,EAAab,GAAanE,EAFX,2CAAjB,wDALG,gCAWEgF,GAXF,2C,yBAcA,SAAeG,GAAtB,uC,8CAAO,WACLC,EACAlC,EACAJ,GAHK,eAAAtE,EAAA,sEAKkB6G,YAAalG,EAAoB,CACtDiG,cACA/B,WAAY,CAAC,IAAK,KAClBH,sBACAJ,mBATG,cAKC9C,EALD,yBAYEA,EAASgD,UAZX,4C,kCC7FQsC,OA9Bf,YAA0E,IAA9CC,EAA6C,EAA7CA,KASpBC,EAAW,CACfC,OAAQ,OACRC,MAAM,GAAD,OAJOH,EAAQA,EAAO,GAAM,IAAM,EAIlC,KACLI,gBAAiB,SASnB,OACE,qBAAK9J,UAAU,eAAe+J,MArBd,CAChBH,OAAQ,OACRC,MAAO,OACPC,gBAAiB,QAkBjB,SACE,qBAAKC,MAAOJ,EAAZ,SACE,sBAAMI,MATS,CACnBC,QAAS,GACTC,MAAO,QACPC,WAAY,Y,MCiCDC,OAjDf,YAA4E,IAAlDC,EAAiD,EAAjDA,WACxB,OACE,sBAAKpK,UAAU,iBAAf,UACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,YAAf,SACE,+CAEF,qBAAKA,UAAU,YAAf,gBAA4BoK,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAYC,WACxC,cAAC,GAAD,CAAkBX,KAAI,OAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAYC,cAEtC,sBAAKrK,UAAU,OAAf,UACE,qBAAKA,UAAU,YAAf,SACE,iDAEF,qBAAKA,UAAU,YAAf,gBAA4BoK,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAYE,aACxC,cAAC,GAAD,CAAkBZ,KAAI,OAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAYE,gBAEtC,sBAAKtK,UAAU,OAAf,UACE,qBAAKA,UAAU,YAAf,SACE,+CAEF,qBAAKA,UAAU,YAAf,gBAA4BoK,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAYG,WACxC,cAAC,GAAD,CAAkBb,KAAI,OAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAYG,cAEtC,sBAAKvK,UAAU,OAAf,UACE,qBAAKA,UAAU,YAAf,SACE,iDAEF,qBAAKA,UAAU,YAAf,gBAA4BoK,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAYI,aACxC,cAAC,GAAD,CAAkBd,KAAI,OAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAYI,gBAEtC,sBAAKxK,UAAU,OAAf,UACE,qBAAKA,UAAU,YAAf,SACE,gDAEF,qBAAKA,UAAU,YAAf,gBAA4BoK,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAYK,YACxC,cAAC,GAAD,CAAkBf,KAAI,OAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAYK,eAEtC,sBAAKzK,UAAU,OAAf,UACE,qBAAKA,UAAU,YAAf,SACE,+CAEF,qBAAKA,UAAU,YAAf,gBAA4BoK,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAYM,WACxC,cAAC,GAAD,CAAkBhB,KAAI,OAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAYM,kBCD7BC,OAtCf,YAAkG,IAA7EC,EAA4E,EAA5EA,UAAWC,EAAiE,EAAjEA,KAAMC,EAA2D,EAA3DA,eAAgBC,EAA2C,EAA3CA,IAAKC,EAAsC,EAAtCA,KACnDC,EAAMC,iBAAuB,MAE7BC,EAAqB,SAACC,GACP,IAAD,EAAdA,EAAMC,SACJJ,EAAIK,WAAW,UAACL,EAAIK,eAAL,aAAC,EAAaC,SAASH,EAAMC,UAC9CP,GAAkBA,MAKxBU,qBAAU,WAER,OADAC,SAASC,iBAAiB,QAASP,GAAoB,GAChD,WACLM,SAASE,oBAAoB,QAASR,GAAoB,OAI9D,IAAMS,EAAiB,CACrBb,MACAC,QAGF,OAAIH,EAEA,sBAAKI,IAAKA,EAAKjL,UAAU,QAAQ+J,MAAO6B,EAAxC,UACE,oCAAKhB,QAAL,IAAKA,OAAL,EAAKA,EAAWtF,OAChB,sBAAKtF,UAAU,eAAf,UACE,qBAAK6L,IAAG,OAAEjB,QAAF,IAAEA,OAAF,EAAEA,EAAWkB,WACrB,sCAAOlB,QAAP,IAAOA,OAAP,EAAOA,EAAWmB,gBAEpB,cAAC,GAAD,CAAgB3B,WAAU,OAAEQ,QAAF,IAAEA,OAAF,EAAEA,EAAWoB,WAItC,8BCtCIC,GAAmC,CAC9C,EAAG,SACH,EAAG,QACH,EAAG,WAGQC,GAAmB,CAAC,EAAG,EAAG,GAE1BC,GAAmC,CAC9C,UAAW,QACX,UAAW,SACX,UAAW,UACX,WAAY,WACZ,WAAY,QACZ,WAAY,MACZ,SAAU,UAGCC,GAAiC,CAC5C,WAAY,WACZ,UAAW,aACX,WAAY,WACZ,WAAY,aACZ,UAAW,YACX,WAAY,YAGDC,GAAiC,CAC5C,GAAI,SACJ,GAAI,YACJ,GAAI,QACJ,GAAI,Q,2BCrCSrK,G,iFAAf,WAAyBf,GAAzB,eAAA0B,EAAA,sEACoB2J,aAAO,iBAAkB,EAAG,CAC5CC,QAD4C,SACpCC,GACNA,EAAGC,kBAAkB,SAH3B,cACQC,EADR,yBAMSA,EAAI1K,IAAI,KAAMf,IANvB,4C,+BASeU,G,mFAAf,WAAmBV,EAAa0L,GAAhC,eAAAhK,EAAA,sEACoB2J,aAAO,iBAAkB,EAAG,CAC5CC,QAD4C,SACpCC,GACNA,EAAGC,kBAAkB,SAH3B,cACQC,EADR,yBAMSA,EAAIE,IAAI,KAAMD,EAAK1L,IAN5B,4C,sBAmBO,SAAe4L,GAAtB,mC,8CAAO,WACLnE,GADK,SAAA/F,EAAA,sEAGChB,GAAI,iCAAkC+G,EAASoE,gCAHhD,4C,sBAWA,SAAeC,KAAtB,gC,8CAAO,sBAAApK,EAAA,sEAGQX,GAAI,kCAHZ,oF,0BCxCFxB,G,8BAAAA,K,mBAAAA,Q,SAQgBwM,G,kDAGnB,aAAuB,wC,8CAWvB,WACE,IAAMC,EAAUjM,KAAKgB,IAAIxB,GAAO0M,SAChC,GAAID,EAAS,OAAOpL,KAAKI,MAAMgL,K,wBAKjC,SAAkBA,GAChBjM,KAAKW,IAAInB,GAAO0M,QAASD,M,0BAf3B,WAIE,OAHKjM,KAAKmB,WACRnB,KAAKmB,SAAW,IAAI6K,GAEfhM,KAAKmB,a,GAX4BxB,GAAvBqM,GACJ7K,c,ECRV,IAAMgL,GAAb,WAQE,WAAYC,GAA+B,yBAPpC/C,SAAmB,EAOgB,KANnCC,WAAqB,EAMc,KALnCC,SAAmB,EAKgB,KAJnCC,WAAqB,EAIc,KAHnCC,UAAoB,EAGe,KAFnCC,SAAmB,EAGxBtC,OAAOiF,OAAOrM,KAAMoM,GATxB,sDAYE,WACE,MAAO,CAACpM,KAAKqJ,SAAUrJ,KAAKsJ,WAAYtJ,KAAKuJ,UAAU+C,MAAK,SAAC3K,EAAG4K,GAAJ,OAAUA,EAAI5K,OAb9E,gCAgBE,WACE,MAAO,CAAC3B,KAAKwJ,WAAYxJ,KAAKyJ,UAAWzJ,KAAK0J,UAAU4C,MAAK,SAAC3K,EAAG4K,GAAJ,OAAUA,EAAI5K,SAjB/E,KAiCO,SAAS6K,GAAUpD,EAAwB9B,GAChD,IAAM2E,EAkCR,SAAoB3E,GAClB,IAAMmF,EAAiBT,GAAepK,cAEtC,OAAQ0F,GACN,KAAK,EACH,OASN,SAAyBmF,GACvB,IAAMC,EAAgBD,EAAeE,aACrC,GAAID,EACF,OAAO,IAAIP,GAAaO,EAAc,IAExC,OAoBO,IAAIP,GAAa,CAAE5C,SAAU,EAAGC,WAAY,EAAGF,WAAY,IAlCvDsD,CAAgBH,GACzB,KAAK,EACH,OAeN,SAA0BA,GACxB,IAAMC,EAAgBD,EAAeE,aACrC,GAAID,EACF,OAAO,IAAIP,GAAaO,EAAc,IAExC,OAgBO,IAAIP,GAAa,CAAE5C,SAAU,EAAGC,WAAY,EAAGH,SAAU,IApCrDwD,CAAiBJ,GAC1B,KAAK,EACH,OAqBN,SAA2BA,GACzB,IAAMC,EAAgBD,EAAeE,aACrC,GAAID,EACF,OAAO,IAAIP,GAAaO,EAAc,IAExC,OAYO,IAAIP,GAAa,CAAE5C,SAAU,EAAGC,WAAY,IAtCxCsD,CAAkBL,GAE7B,OAAO,IAAIN,GA7CKQ,CAAWrF,GACrByF,EAQD,SAAqB3D,EAAwB6C,GAClD,IAAIe,EAAQ,EAOZ,OANAA,GAAS5D,EAAWC,SAAW4C,EAAQ5C,SACvC2D,GAAS5D,EAAWE,WAAa2C,EAAQ3C,WACzC0D,GAAS5D,EAAWG,SAAW0C,EAAQ1C,SACvCyD,GAAS5D,EAAWI,WAAayC,EAAQzC,WACzCwD,GAAS5D,EAAWK,UAAYwC,EAAQxC,UACxCuD,GAAS5D,EAAWM,SAAWuC,EAAQvC,SAftBuD,CAAY7D,EAAY6C,GACnCiB,EAsFD,SAA2BC,GAYhC,IATA,IAAMC,EAAkBD,EAAaE,qBAC/BC,EAAkBH,EAAaI,qBAE/BC,EAAQ,CACZ,CAAC,EAAG,GAAI,IACR,CAAC,EAAG,EAAG,KAGLC,EAAMC,OAAOC,UACjB,MAAmBH,EAAnB,eAA0B,CAGxB,IAHG,IAAMI,EAAI,KACTC,EAAiB,EACjBC,EAAiB,EACZC,EAAI,EAAGA,EAAI,EAAGA,IACrBF,GAAkBT,EAAgBW,GAAKH,EAAKG,GAC5CD,GAAkBR,EAAgBS,GAAKH,EAAKG,GAG1CF,EAAiBC,EAAiBL,IAAKA,EAAMI,EAAiBC,GAGpE,OAAOL,EA7GgBO,CAAkB/B,GACnCgC,EA+GD,SAA2Bd,GAChC,IAAMe,EAAkB,GAClBC,EAAkB,EAElBf,EAAkBD,EAAaE,qBAC/BC,EAAkBH,EAAaI,qBAErC,OACEW,GAAmBd,EAAgB,GAAKE,EAAgB,IACxDa,GAAmBf,EAAgB,GAAKA,EAAgB,GAAKE,EAAgB,GAAKA,EAAgB,IAxH7Ec,CAAkBnC,GACnCoC,EAgBD,SAA4BrB,EAAeE,EAAwBe,GACxE,OAAOK,KAAKC,OAAQvB,EAAQE,GAAkBoB,KAAKE,IAAIP,EAAiBf,EAAgB,GAAM,KAjBtEuB,CAAmB1B,EAAUG,EAAgBe,GAErE,MAAO,CAAElB,WAAUsB,kBAAiBJ,iBAAgBf,kBAkB/C,SAASwB,GAAU1B,GACxB,IAAM2B,EAAWC,KAAa,CAAC,UAAW,YAM1C,MAAO,CAAEC,SALSF,EAASG,IAAIR,KAAKE,IAAIxB,EAAMiB,eAAiBjB,EAAME,eAAgB,IAC1DoB,KAAKE,IAAIxB,EAAMD,SAAWC,EAAME,eAAiB,EAAG,IAAI6B,cAIhEC,mBAHSL,EAASG,IAAI,KACMR,KAAKE,IAAIxB,EAAMqB,gBAAkB,EAAG,IAAIU,eAuDlF,SAASE,KACd,OAAO,IAAI9C,GAAa,CAAE9C,SAAU,EAAGC,WAAY,EAAGC,SAAU,EAAGC,WAAY,EAAGC,UAAW,EAAGC,SAAU,ICrHrG,SAAewF,GAAtB,mC,8CAAO,WAAgCC,GAAhC,yBAAAxN,EAAA,6DACCyN,EAA8B,GAE9BC,EAAajI,OAAO9G,KAAK6O,GAAY9G,KAAI,SAACiH,GAAD,OAAOC,SAASD,MAH1D,SAK0BvD,KAL1B,OAKCyD,EALD,sBAOmBH,GAPnB,aAAA1N,EAAA,4CAAAA,EAAA,sDAOM2F,EAPN,QAQH8H,EAAa9H,GAAa,GAEpBmI,EAAqBrI,OAAO9G,KAAK6O,EAAW7H,GAAWoI,gBAAgBrH,KAAI,SAACiH,GAAD,OAAOC,SAASD,MAC3FK,EAAYvI,OAAO9G,KAAK6K,IAC3B9C,KAAI,SAACiH,GAAD,OAAOC,SAASD,MACpBM,QAAO,SAACN,GAAD,OAAOG,EAAmBI,SAASP,MAb1C,eAcoBK,GAdpB,gEAcQG,EAdR,kBAeyCC,GAASZ,EAAW7H,GAAYwI,EAAUN,GAfnF,QAeDJ,EAAa9H,GAAWwI,GAfvB,ycAmBEV,GAnBF,iE,sBAgDA,ICpDF5P,GDoDQwQ,GAQX,WAAY5D,GAA6B,yBAPlC/C,SAAmB,EAOc,KANjCC,WAAqB,EAMY,KALjCC,SAAmB,EAKc,KAJjCC,WAAqB,EAIY,KAHjCC,UAAoB,EAGa,KAFjCC,SAAmB,EAGxBtC,OAAOiF,OAAOrM,KAAMoM,I,SAIT2D,G,qFAAf,WACEE,EACAC,EACAV,GAHF,qCAAA7N,EAAA,sDASE,GAFMwO,EAAmB,GAErBF,EAAQG,MAAMpM,KAAM,CAChBqM,EAAgBjJ,OAAO9G,KAAK2P,EAAQG,MAAMpM,KAAKkM,GAAYI,WAAWjI,KAAI,SAACiH,GAAD,OAAOC,SAASD,MAC1FgB,EAAYL,EAAQG,MAAMpM,KAAKkM,GAAYI,UAF3B,eAGID,GAHJ,IAGtB,2BAAWE,EAA8B,QACjCC,EAAWF,EAAUC,GAAaC,SAClCC,EAAcjB,EAAiBgB,GAAUC,YACzCC,EAAkBlB,EAAiBgB,GAAUE,gBAC7C5F,EAJiC,UAInBtJ,GAJmB,OAILgO,EAAiBgB,GAAUG,kBAAkBC,MACzEtM,EAAOkL,EAAiBgB,GAAUG,kBAAkBrM,KACpDyG,EAAayE,EAAiBgB,GAAUzF,WAC1C8F,GAAWJ,IAAoC,YAApBC,IAC7BP,EAAMM,GAAe,CACnBD,WACAM,QAASP,EACTQ,UAAW1F,GAAWoF,GACtB3F,WACAxG,OACAyG,eAjBgB,+BAT1B,yBAgCSoF,GAhCT,4C,sBAmCA,SAASU,GAAWJ,GAElB,OADwBrJ,OAAO9G,KAAK+K,IAAYhD,KAAI,SAACiH,GAAD,OAAOC,SAASD,MAC7CO,SAASY,GAG3B,SAAeO,GAAtB,qC,8CAAO,WACLC,EACA9B,GAFK,2BAAAxN,EAAA,sDAIL,IAAW2F,KAAa2J,EACtB,IAAWf,KAAce,EAAc3J,GACrC,IAAWmJ,KAAeQ,EAAc3J,GAAW4I,GAC7Cf,EAAW7H,GAAWoI,eAAeQ,GAAYlF,MAAMhH,OACnD8M,EAAUG,EAAc3J,GAAW4I,GAAYO,GAAaK,QAC5D9F,EAAQmE,EAAW7H,GAAWoI,eAAeQ,GAAYlF,MAAMhH,KAAM8M,GAC3EG,EAAc3J,GAAW4I,GAAYO,GAAazF,MAAQkG,GAASlG,EAAMA,OAEnEmG,EAAS3E,GAAUyE,EAAc3J,GAAW4I,GAAYO,GAAazF,MAAQuE,SAASjI,IACtF8J,EAAS1C,GAAUyC,GACzBF,EAAc3J,GAAW4I,GAAYO,GAAa1D,SAAWoE,EAAOpE,SACpEkE,EAAc3J,GAAW4I,GAAYO,GAAapC,gBAAkB8C,EAAO9C,gBAC3E4C,EAAc3J,GAAW4I,GAAYO,GAAaW,OAASA,EAC3DH,EAAc3J,GAAW4I,GAAYO,GAAaxC,eAAiBkD,EAAOlD,gBAjB7E,yBAqBEgD,GArBF,4C,sBAwBP,SAASC,GAASlG,GAChB,IAAM5B,EAAa,IAAI4G,GAEvB,IAAK,IAAMqB,KAAYrG,EACrB,OAAQsG,GAAcD,IACpB,IAAK,WACHjI,EAAWC,SAAW2B,EAAMqG,GAAUlR,MACtC,MACF,IAAK,aACHiJ,EAAWE,WAAa0B,EAAMqG,GAAUlR,MACxC,MACF,IAAK,WACHiJ,EAAWG,SAAWyB,EAAMqG,GAAUlR,MACtC,MACF,IAAK,aACHiJ,EAAWI,WAAawB,EAAMqG,GAAUlR,MACxC,MACF,IAAK,YACHiJ,EAAWK,UAAYuB,EAAMqG,GAAUlR,MACvC,MACF,IAAK,WACHiJ,EAAWM,SAAWsB,EAAMqG,GAAUlR,MACtC,MACF,QACE,MAAM,IAAIkC,MAAM,6BAItB,OAAO+G,G,SC7JJ5J,K,mCAAAA,Q,SAagB+R,G,kDAGnB,aAAuB,wC,qDAWvB,WACE,IAAM3K,EAAiB5G,KAAKgB,IAAIxB,GAAOgS,iBACvC,GAAI5K,EAAgB,OAAO/F,KAAKI,MAAM2F,K,+BAKxC,SAAyBA,GACvB5G,KAAKW,IAAInB,GAAOgS,gBAAiB5K,M,0BAfnC,WAIE,OAHK5G,KAAKmB,WACRnB,KAAKmB,SAAW,IAAIoQ,GAEfvR,KAAKmB,a,GAXmCxB,GAA9B4R,GACJpQ,c,QCoLFsQ,OA1Kf,WACE,IAAMzM,EAAUC,cAEhB,EAA8ByM,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAsCF,mBAAS,4BAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAAsCJ,qBAAtC,mBAAOK,EAAP,KAAoBC,EAApB,KACA,EAA4CN,oBAAS,GAArD,mBAAOO,EAAP,KAAuBC,EAAvB,KACA,EAAoCR,mBAAoC,CAAE,EAAG,EAAG,EAAG,EAAG,EAAG,IAAzF,mBAAOS,EAAP,KAAmBC,EAAnB,KACA,EAAgDV,mBAAS,YAAIW,KAA7D,mBAAOnH,EAAP,KAAyBoH,EAAzB,KACA,EAAkDZ,mBAAS,CACzD,UAAW,UAAW,UAAW,WAAY,WAAY,WAAY,WADvE,mBAAOa,EAAP,KAA0BC,EAA1B,KAGA,EAA0Cd,oBAAS,GAAnD,mBAAOe,EAAP,KAAsBC,EAAtB,KACA,EAA0ChB,mBAAS,IAAnD,mBAAOiB,EAAP,KAAsBC,EAAtB,KACA,EAAsBlB,mBAAmB,CAAE3H,IAAK,EAAGC,KAAM,IAAzD,mBAAO6I,EAAP,KAAYC,EAAZ,KAEMC,EAAetS,EAAamB,cAC5BoR,EAAwBzB,GAAsB3P,cAE9CiC,EAASkP,EAAalR,eACxBkE,GAAe,GAEnB,IAAKlC,EAGH,OAFA3B,QAAQ+Q,KAAK,wBACbjO,EAAQG,KAAK,UACN,6BAELtB,IAAQkC,GAAY,OAAGlC,QAAH,IAAGA,OAAH,EAAGA,EAAQU,oBAEnC,IAAIqC,GAAiB2K,GAAsB3P,cAAckE,oBA7B1B,8CAoC/B,kCAAAnE,EAAA,sEAE6BoK,KAF7B,kDAIwCtE,KAJxC,cAIUyL,EAJV,OAKIpB,EAAe,oBALnB,UAMUjG,GAAcqH,GANxB,WASOtM,GATP,wBAUIkL,EAAe,+BAVnB,UAW2BhM,EAAkBC,IAX7C,QAWIa,GAXJ,OAYIoM,EAAsBG,kBAAkBtS,KAAKC,UAAU8F,KAZ3D,YAeMA,GAfN,wBAgBIkL,EAAe,+BAhBnB,UAiB6B7J,GAA2BrB,IAjBxD,eAiBUuI,EAjBV,OAmBI2C,EAAe,0BAnBnB,UAoBgCsB,GAAiBjE,GApBjD,eAoBUkE,EApBV,OAsBIvB,EAAe,iBAtBnB,UAuByBd,GAAeqC,EAAelE,GAvBvD,QAuBUgC,EAvBV,OAwBImC,GAAkBnC,GAClBoC,GAAkBpC,GAElBa,EAAeb,GA3BnB,QA6BES,GAAW,GA7Bb,6CApC+B,sBA+B/BpH,qBAAU,YA/BqB,oCAgC7BgJ,KAEC,IAkCH,IAQMF,GAAoB,SAACnC,GAIzB,IAHA,IAAMjB,EAAaX,SAASnI,OAAO9G,KAAK6Q,EAAO,IAAI,IAE7CsC,EAAmC,GAChC1F,EAAI,EAAGA,EAAI,EAAGA,IACjBA,KAAKoD,GACHA,EAAOpD,GAAGmC,GAJA,IAIuBjC,iBACnCwF,EAAM1F,GAAKoD,EAAOpD,GAAGmC,GALT,IAKgCjC,gBAKlDmE,EAAcqB,IAGVF,GAAoB,SAACpC,GACzB,IAAMjS,EAAUkI,OAAO9G,KAAK6Q,GAAQ9I,KAAI,SAACiH,GAAD,OAAOC,SAASD,MAClDoE,EAAkBxI,EAAiB0E,QAAO,SAACN,GAAD,OAAOpQ,EAAQ2Q,SAASP,MACxEgD,EAAoB,YAAIoB,IACxB,IAAMzD,EAAU7I,OAAO9G,KAAK6Q,EAAOuC,EAAgB,KAAKrL,KAAI,SAACiH,GAAD,OAAOC,SAASD,MACtEqE,EAAkBpB,EAAkB3C,QAAO,SAACN,GAAD,OAAOW,EAAQJ,SAASP,MACzEkD,EAAqB,YAAImB,KAG3B,OACE,iCACIhC,GACA,mEAEE,uBAAOiC,KAAK,WAAWC,QAAS5B,EAAgB6B,SArC5B,kBAAM5B,GAAmBD,SAwChDN,GAAW,cAAC,EAAD,CAAS7S,KAAM+S,EAAa9S,WAAW,IACnD,sBAAKC,UAAU,cAAf,UACG+S,GACC7G,EAAiB7C,KAAI,SAAC0L,GAAD,OACnB,uBAAO/U,UAAU,cAAjB,SACE,kCACE,+BACE,+BACGiM,GAAa8I,GADhB,KAC6B9B,GAAD,WAAuBE,EAAW4B,GAAlC,QAE3BxB,EAAkBlK,KAAI,SAAC2L,GAAD,OACrB,6BAAqB7I,GAAa6I,IAAzBA,SAIZ5M,OAAO9G,KAAK+K,IACVhD,KAAI,SAACiH,GAAD,OAAOC,SAASD,MACpBjH,KAAI,SAAC0I,GAAD,OACH,+BACE,oBAAIkD,MAAM,MAAV,SAAiB5I,GAAW0F,KAC3BwB,EAAkBlK,KAAI,SAAC6H,GAAgB,IAAD,IACrC,OACE,oBACElR,UAAU,YAEV+J,MAAO,CACLD,gBAAiBmJ,EAAc,UAC3BF,EAAYgC,GAAU7D,GAAYa,GAAWK,cADlB,aAC3B,EAAqDpC,mBAD1B,UAE3B+C,EAAYgC,GAAU7D,GAAYa,GAAWK,cAFlB,aAE3B,EAAqDvC,UAN7D,SASE,wBACEqF,QAAS,SAAC9J,GAAD,OAvEX,SAACA,EAA4CR,GACrE8I,GAAkBD,GAClBG,EAAiBhJ,GACjBkJ,EAAO,CAAE/I,IAAKK,EAAM+J,MAAOnK,KAAMI,EAAMgK,QACvClS,QAAQC,IAAR,4BAAiCyH,EAAU4G,WAoEf6D,CAAkBjK,EAAO2H,EAAYgC,GAAU7D,GAAYa,KAF/D,SAKGkB,EACGF,EAAYgC,GAAU7D,GAAYa,GAAW1C,gBAC7C0D,EAAYgC,GAAU7D,GAAYa,GAAWhE,YAd9CmD,QANJa,UAdmBgD,MA4CxC,cAAC,GAAD,CACEnK,UAAW+I,EACX9I,KAAM4I,EACN3I,eAAgB,WACd4I,GAAiB,IAEnB3I,IAAK8I,EAAI9I,IACTC,KAAM6I,EAAI7I,c,eCzCLsK,OA9If,WACE,IAAM7H,EAAiBT,GAAepK,cAChC8K,EAAgBD,EAAeE,aAC/B4H,EAAiB7H,EACnB,CACE,EAAG,IAAIP,GAAaO,EAAc,IAClC,EAAG,IAAIP,GAAaO,EAAc,IAClC,EAAG,IAAIP,GAAaO,EAAc,KAEpC,CACE,EAAGuC,KACH,EAAGA,KACH,EAAGA,MAGT,EAAgCyC,mBAA0C6C,GAA1E,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA4C/C,mBAAS,gBAArD,mBAAOgD,EAAP,KAAuBC,EAAvB,KAEMzV,EAAO,YAAOgM,IAWpB,SAAS0J,EAAkBC,GACzB,MAAwBA,EAAExK,OAAlB/F,EAAR,EAAQA,KAAMnE,EAAd,EAAcA,MACd,EAA0BmE,EAAKwQ,MAAM,KAArC,mBAAOxN,EAAP,KAAkBoB,EAAlB,KAEMqM,EAAmBP,EAASjF,SAASjI,IAC9B,aAAToB,IAAqBqM,EAAiB1L,SAAWkG,SAASpP,IACjD,eAATuI,IAAuBqM,EAAiBzL,WAAaiG,SAASpP,IACrD,aAATuI,IAAqBqM,EAAiBxL,SAAWgG,SAASpP,IACjD,eAATuI,IAAuBqM,EAAiBvL,WAAa+F,SAASpP,IACrD,cAATuI,IAAsBqM,EAAiBtL,UAAY8F,SAASpP,IACnD,aAATuI,IAAqBqM,EAAiBrL,SAAW6F,SAASpP,IAE9DsU,EAAY,2BAAKD,GAAN,mBAAiBjF,SAASjI,GAAayN,KAClD7S,QAAQC,IAAR,mBAAwBmC,EAAxB,eAAmCnE,IAWrC,OACE,qCACE,kDACA,uJAEQ,4CAFR,gCAE0D,4CAF1D,kGAG8D,qDAH9D,OAKA,uBAAM6U,SAzCV,SAAsBH,GACpBA,EAAEI,iBAEFxI,EAAeyI,WAAWrU,KAAKC,UAAU0T,IAEzCG,EAAkB,UAClBQ,YAAW,kBAAMR,EAAkB,kBAAiB,MAmClD,UACE,qBAAK3V,UAAU,WAAf,SACGE,EAAQmJ,KAAI,SAACf,GAAD,OACX,sBAAKtI,UAAU,oBAAf,UACE,6BAAKiM,GAAa3D,KAClB,8CACY,IACV,uBACEsM,KAAK,SACLtP,KAAI,UAAKgD,EAAL,aACJwM,SAAUc,EACVzU,MAAOqU,EAASlN,GAAW+B,SAC3BrK,UAAU,YACVyO,IAAI,MACH,OAEL,gDACc,IACZ,uBACEmG,KAAK,SACLtP,KAAI,UAAKgD,EAAL,eACJwM,SAAUc,EACVzU,MAAOqU,EAASlN,GAAWgC,WAC3BtK,UAAU,YACVyO,IAAI,MACH,OAEL,8CACY,IACV,uBACEmG,KAAK,SACLtP,KAAI,UAAKgD,EAAL,aACJwM,SAAUc,EACVzU,MAAOqU,EAASlN,GAAWiC,SAC3BvK,UAAU,YACVyO,IAAI,MACH,OAEL,gDACc,IACZ,uBACEmG,KAAK,SACLtP,KAAI,UAAKgD,EAAL,eACJwM,SAAUc,EACVzU,MAAOqU,EAASlN,GAAWkC,WAC3BxK,UAAU,YACVyO,IAAI,MACH,OAEL,+CACa,IACX,uBACEmG,KAAK,SACLtP,KAAI,UAAKgD,EAAL,cACJwM,SAAUc,EACVzU,MAAOqU,EAASlN,GAAWmC,UAC3BzK,UAAU,YACVyO,IAAI,MACH,OAEL,8CACY,IACV,uBACEmG,KAAK,SACLtP,KAAI,UAAKgD,EAAL,aACJwM,SAAUc,EACVzU,MAAOqU,EAASlN,GAAWoC,SAC3B1K,UAAU,YACVyO,IAAI,MACH,SAlEiCnG,QAuE5C,uBAAOsM,KAAK,SAASzT,MAAM,gBAAgB+T,QA1FjD,WACEO,EAAY,CACV,EAAGxF,KACH,EAAGA,KACH,EAAGA,UAuFD,uBAAO2E,KAAK,SAASzT,MAAOuU,EAAgBZ,SAAUc,WC1G/CQ,OAzBf,WACE,MAAqB1D,oBAAS,GAA9B,mBAAOC,EAAP,KAMM0D,GANN,OAEqB5U,EAAamB,cAGNC,gBAG5B,OACE,sBAAK7C,UAAU,MAAf,UACE,cAAC,EAAD,CAAKS,aAAc4V,IACnB,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAO,EAAMC,KAAK,SAASC,UAAWzQ,IAC7C,cAAC,IAAD,CAAOuQ,OAAO,EAAMC,KAAK,WAAWC,UAAW/D,KAC/C,cAAC,IAAD,CAAO6D,OAAO,EAAMC,KAAK,IAAIC,UAAW/D,KACxC,cAAC,IAAD,CAAO6D,OAAO,EAAMC,KAAK,YAAYC,UAAW9P,IAChD,cAAC,IAAD,CAAO4P,OAAO,EAAMC,KAAK,YAAYC,UAAWlB,KAChD,cAAC,IAAD,CAAU5U,GAAG,SAEdiS,GAAW,cAAC,EAAD,CAAS7S,KAAK,2BAA2BC,WAAW,QCjBvD0W,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBzS,MAAK,YAAkD,IAA/C0S,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAD,UACE,cAAC,GAAD,MAEFzL,SAAS0L,eAAe,SAM1BV,O","file":"static/js/main.1a692030.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport { ReactElement } from 'react';\nimport './spinner.scss';\n\nexport interface SpinnerDisplayProps {\n  text?: string;\n  noOverlay?: boolean;\n  className?: string | string[];\n}\n\nfunction Spinner(props: SpinnerDisplayProps): ReactElement {\n  const { text, noOverlay, className, ...rest } = props;\n\n  const classes = classNames('Spinner', noOverlay && 'Spinner--noOverlay', className);\n\n  return (\n    <div {...rest} className={classes}>\n      <div className=\"Spinner-spinner\">\n        <svg viewBox=\"0 0 64 64\">\n          <circle transform=\"translate(32,32)\" r=\"26\" />\n        </svg>\n      </div>\n      {text ? <div className=\"Spinner-content\">{text}</div> : null}\n    </div>\n  );\n}\n\nexport default Spinner;\n","import { ReactElement } from 'react';\nimport { Link } from 'react-router-dom';\nimport './nav.scss';\n\nexport interface NavProps {\n  isAuthorized: boolean;\n}\n\nfunction Nav(props: NavProps): ReactElement {\n  const { isAuthorized } = props;\n\n  return (\n    <div className=\"navbar\">\n      {!isAuthorized && <Link to=\"/login\">Login</Link>}\n      {isAuthorized && <Link to=\"/vendors\">Vendors</Link>}\n      {<Link to=\"/settings\">Settings</Link>}\n    </div>\n  );\n}\n\nexport default Nav;\n","import Storage from './Storage';\n\nenum Locals {\n  ALL_TOKENS = 'all_tokens',\n}\n\nexport interface AccessTokenResponse {\n  access_token: string;\n  token_type: string;\n  expires_in: number;\n  refresh_token: string;\n  refresh_expires_in: number;\n  membership_id: string;\n}\n\nexport interface Tokens {\n  accessToken: Token;\n  refreshToken?: Token;\n  bungieMembershipId: string;\n}\n\nexport interface Token {\n  /** The oauth token key */\n  value: string;\n  /** The token expires this many seconds after it is acquired. */\n  expires: number;\n  name: 'access' | 'refresh';\n  /** A UTC epoch milliseconds timestamp representing when the token was acquired. */\n  inception: number;\n}\n\nexport default class TokenStorage extends Storage<Locals> {\n  private static instance?: TokenStorage;\n\n  private constructor() {\n    super();\n  }\n\n  public static getInstance(): TokenStorage {\n    if (!this.instance) {\n      this.instance = new TokenStorage();\n    }\n\n    return this.instance;\n  }\n  public setAllTokens(token: Tokens): void {\n    this.set(Locals.ALL_TOKENS, JSON.stringify(token));\n  }\n\n  public getAllTokens(): Tokens | null {\n    const allTokens = this.get(Locals.ALL_TOKENS);\n\n    return allTokens ? JSON.parse(allTokens) : null;\n  }\n\n  public clear(): void {\n    this.clearItems([Locals.ALL_TOKENS]);\n  }\n}\n","interface IStorage {\n  getItem(key: string): string | null;\n  setItem(key: string, value: string): void;\n  removeItem(key: string): void;\n}\n\nexport default abstract class Storage<T extends string> {\n  private readonly storage: IStorage;\n\n  public constructor(getStorage = (): IStorage => window.localStorage) {\n    this.storage = getStorage();\n  }\n\n  protected get(key: T): string | null {\n    return this.storage.getItem(key);\n  }\n\n  protected set(key: T, value: string): void {\n    this.storage.setItem(key, value);\n  }\n\n  protected clearItem(key: T): void {\n    this.storage.removeItem(key);\n  }\n\n  protected clearItems(keys: T[]): void {\n    keys.forEach((key) => {\n      return this.clearItem(key);\n    });\n  }\n}\n","import { HttpClientConfig } from 'bungie-api-ts/http';\nimport TokenStorage, { Token, Tokens } from './storage/Tokens';\n\nexport const API_KEY = process.env.REACT_APP_BUNGIE_API_KEY || '';\nexport const CLIENT_ID = process.env.REACT_APP_BUNGIE_CLIENT_ID || '';\nexport const CLIENT_SECRET = process.env.REACT_APP_BUNGIE_CLIENT_SECRET || '';\nexport const REDIRECT_URI = process.env.REACT_APP_BUNGIE_REDIRECT_URI || '';\n\nexport const BUNGIE_ROOT = 'https://www.bungie.net';\nexport const BUNGIE_API_ROOT = `${BUNGIE_ROOT}/Platform`;\n\nexport async function getActiveToken(): Promise<Tokens> {\n  const allTokens = TokenStorage.getInstance().getAllTokens();\n\n  if (!allTokens) {\n    TokenStorage.getInstance().clear();\n  }\n\n  const accessTokenIsValid = allTokens && !hasTokenExpired(allTokens.accessToken);\n  if (accessTokenIsValid) return allTokens;\n\n  const refreshTokenIsValid = allTokens && !hasTokenExpired(allTokens.refreshToken);\n  if (!refreshTokenIsValid) {\n    console.log('We need to fetch a new token here');\n  }\n\n  try {\n    if (allTokens) return await getAccessTokenFromRefreshToken(allTokens.refreshToken!);\n    throw new Error();\n  } catch (e) {\n    throw new Error('I dunno');\n  }\n}\n\nexport async function $httpAuthenticated(config: HttpClientConfig): Promise<Response> {\n  const token = await getActiveToken();\n\n  if (!token) {\n    console.error('We need a new token');\n    throw new Error('Some token error');\n  }\n  const headers = {\n    authorization: `Bearer ${token.accessToken.value}`,\n    'x-api-key': API_KEY,\n  };\n\n  let url = config.url;\n  if (config.params) {\n    // strip out undefined params keys. bungie-api-ts creates them for optional endpoint parameters\n    for (const key in config.params) {\n      typeof config.params[key] === 'undefined' && delete config.params[key];\n    }\n    url = `${url}?${new URLSearchParams(config.params as Record<string, string>).toString()}`;\n  }\n\n  return fetch(url, {\n    method: config.method,\n    body: config.body,\n    headers,\n  }).then((response) => response.json());\n}\n\nexport async function $http(config: HttpClientConfig): Promise<Response> {\n  return fetch(config.url, {\n    method: config.method,\n    body: config.body,\n  }).then((res) => res.json());\n}\n\nexport function getAccessTokenFromCode(code: string): Promise<void> {\n  const body = new URLSearchParams({\n    grant_type: 'authorization_code',\n    code,\n    client_id: CLIENT_ID,\n    client_secret: CLIENT_SECRET,\n  });\n  return fetch(`${BUNGIE_API_ROOT}/app/oauth/token/`, { method: 'POST', body })\n    .then((res) => res.json())\n    .then(handleAccessToken)\n    .then((tokens) => TokenStorage.getInstance().setAllTokens(tokens));\n}\n\nfunction handleAccessToken(\n  response:\n    | {\n        access_token: string;\n        expires_in: number;\n        membership_id: string;\n        refresh_token?: string;\n        refresh_expires_in: number;\n      }\n    | undefined,\n): Tokens {\n  if (response?.access_token) {\n    const data = response;\n    const inception = Date.now();\n    const accessToken: Token = {\n      value: data.access_token,\n      expires: data.expires_in,\n      name: 'access',\n      inception,\n    };\n\n    const tokens: Tokens = {\n      accessToken,\n      bungieMembershipId: data.membership_id,\n    };\n\n    if (data.refresh_token) {\n      tokens.refreshToken = {\n        value: data.refresh_token,\n        expires: data.refresh_expires_in,\n        name: 'refresh',\n        inception,\n      };\n    }\n\n    return tokens;\n  } else {\n    throw new Error('No tokens');\n  }\n}\n\nexport function getAccessTokenFromRefreshToken(refreshToken: Token): Promise<Tokens> {\n  const body = new URLSearchParams({\n    grant_type: 'refresh_token',\n    refresh_token: refreshToken.value,\n    client_id: CLIENT_ID,\n    client_secret: CLIENT_SECRET,\n  });\n\n  return Promise.resolve(\n    fetch(`${BUNGIE_API_ROOT}/app/oauth/token/`, {\n      method: 'POST',\n      body,\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n    })\n      .then((response) => (response.ok ? response.json() : Promise.reject(response)))\n      .then(handleAccessToken)\n      .then((token) => {\n        TokenStorage.getInstance().setAllTokens(token);\n        return token;\n      }),\n  );\n}\n\nfunction hasTokenExpired(token?: Token): boolean {\n  if (!token) return true;\n\n  const expires = token.expires * 1000 + token.inception;\n  const now = Date.now();\n\n  return now > expires;\n}\n","import { ReactElement } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport OAuth2Login from 'react-simple-oauth2-login';\nimport { CLIENT_ID, getAccessTokenFromCode, REDIRECT_URI } from '../../helpers';\nimport './login.scss';\n\nfunction Login(): ReactElement {\n  const history = useHistory();\n\n  const onSuccess = async (response: any) => {\n    const code = response.code;\n    await getAccessTokenFromCode(code);\n    history.push('/vendors');\n  };\n\n  const onFailure = (response: Response) => console.log(response);\n\n  return (\n    <OAuth2Login\n      authorizationUrl=\"https://www.bungie.net/en/Oauth/Authorize\"\n      responseType=\"code\"\n      clientId={CLIENT_ID}\n      redirectUri={REDIRECT_URI}\n      onSuccess={onSuccess}\n      onFailure={onFailure}\n      buttonText=\"Login with Bungie.net\"\n      className=\"loginButton\"\n    />\n  );\n}\n\nexport default Login;\n","import { ReactElement } from 'react';\nimport { useQuery } from '../../hooks';\n\nfunction Callback(): ReactElement {\n  const query = useQuery();\n\n  const authCode = query.get('code');\n\n  return <>{!authCode && <>{authCode}</>}</>;\n}\n\nexport default Callback;\n","import { useLocation } from 'react-router-dom';\n\nexport function useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n","import {\n  BungieMembershipType,\n  DestinyClass,\n  DestinyComponentType,\n  DestinyManifest,\n  DestinyManifestSlice,\n  DestinyProfileResponse,\n  DestinyVendorsResponse,\n  getDestinyManifest,\n  getDestinyManifestSlice,\n  getLinkedProfiles,\n  getProfile,\n  getVendors as getVendorsTs,\n} from 'bungie-api-ts/destiny2';\nimport { $http, $httpAuthenticated } from '../helpers';\nimport { MembershipInfo } from '../storage/Membership';\n\nexport async function getMembershipInfo(membershipId: string): Promise<MembershipInfo> {\n  const linkedProfiles = await getLinkedProfiles($httpAuthenticated, {\n    membershipId,\n    membershipType: 254,\n    getAllMemberships: true,\n  }).then((response) => response.Response);\n  const destinyMembershipId = linkedProfiles.profiles[0].membershipId;\n  const membershipType = linkedProfiles.profiles[0].membershipType;\n\n  const profile = await getProfile($httpAuthenticated, {\n    destinyMembershipId,\n    components: [200],\n    membershipType,\n  }).then((response) => response.Response);\n\n  const characters = getCharactersIds(profile);\n  const membershipInfo: MembershipInfo = {\n    bungieMembershipId: membershipId,\n    destinyMembershipId,\n    membershipType,\n    hunterId: characters.hunter,\n    titanId: characters.titan,\n    warlockId: characters.warlock,\n  };\n\n  return membershipInfo;\n}\n\nexport interface Characters {\n  hunter: string | null;\n  titan: string | null;\n  warlock: string | null;\n}\n\nfunction getCharactersIds(profile: DestinyProfileResponse): Characters {\n  let hunterId: string | null = null,\n    titanId: string | null = null,\n    warlockId: string | null = null;\n  if (profile.characters.data) {\n    const profileCharacters = profile.characters.data;\n    Object.keys(profile.characters.data).forEach((id) => {\n      switch (profileCharacters[id].classType) {\n        case 0:\n          titanId = id;\n          break;\n        case 1:\n          hunterId = id;\n          break;\n        case 2:\n          warlockId = id;\n          break;\n        default:\n          throw new Error('Unknown class type');\n      }\n    });\n  }\n\n  return {\n    hunter: hunterId,\n    titan: titanId,\n    warlock: warlockId,\n  };\n}\n\nexport async function getManifest(): Promise<DestinyManifest> {\n  const response = await getDestinyManifest($http);\n  return response.Response;\n}\n\nexport async function getDestinyInventoryItemManifest(): Promise<\n  DestinyManifestSlice<['DestinyInventoryItemDefinition', 'DestinyStatDefinition']>\n> {\n  const manifest = await getManifest();\n  const manifestSlice = await getDestinyManifestSlice($http, {\n    destinyManifest: manifest,\n    language: 'en',\n    tableNames: ['DestinyInventoryItemDefinition', 'DestinyStatDefinition'],\n  });\n  return manifestSlice;\n}\n\nexport interface CharacterToId {\n  id: string;\n  classType: DestinyClass;\n}\n\nfunction mapCharacterIds(membershipInfo: MembershipInfo): CharacterToId[] {\n  const hunterId = membershipInfo.hunterId;\n  const titanId = membershipInfo.titanId;\n  const warlockId = membershipInfo.warlockId;\n\n  const value: CharacterToId[] = [];\n\n  if (titanId) value.push({ id: titanId, classType: 0 });\n  if (hunterId) value.push({ id: hunterId, classType: 1 });\n  if (warlockId) value.push({ id: warlockId, classType: 2 });\n  return value;\n}\n\nexport async function getVendorsForAllCharacters(membershipInfo: MembershipInfo) {\n  const characterIds = mapCharacterIds(membershipInfo);\n\n  const fullResponse: { [key: number]: DestinyVendorsResponse } = {};\n  await Promise.all(\n    characterIds.map(async ({ id, classType }) => {\n      const response = await getVendors(id, membershipInfo.destinyMembershipId, membershipInfo.membershipType);\n      fullResponse[classType] = response;\n    }),\n  );\n\n  return fullResponse;\n}\n\nexport async function getVendors(\n  characterId: string,\n  destinyMembershipId: string,\n  membershipType: BungieMembershipType,\n): Promise<DestinyVendorsResponse> {\n  const response = await getVendorsTs($httpAuthenticated, {\n    characterId,\n    components: [304, 402],\n    destinyMembershipId,\n    membershipType,\n  });\n\n  return response.Response;\n}\n","import { ReactElement } from 'react';\nimport './itemPopupStatBar.scss';\n\nexport interface ItemPopupStatBarProps {\n  stat?: number;\n}\n\nfunction ItemPopupStatBar({ stat }: ItemPopupStatBarProps): ReactElement {\n  const parentDiv = {\n    height: '100%',\n    width: '100%',\n    backgroundColor: 'grey',\n  };\n\n  const value = stat ? (stat / 30) * 100 : 0;\n\n  const childDiv = {\n    height: '100%',\n    width: `${value}%`,\n    backgroundColor: 'white',\n  };\n\n  const progressText = {\n    padding: 10,\n    color: 'black',\n    fontWeight: 900,\n  };\n\n  return (\n    <div className=\"barContainer\" style={parentDiv}>\n      <div style={childDiv}>\n        <span style={progressText}></span>\n      </div>\n    </div>\n  );\n}\n\nexport default ItemPopupStatBar;\n","import { ReactElement } from 'react';\nimport { ArmorStats } from '../../scoring/items';\nimport ItemPopupStatBar from '../ItemPopupStatBar/ItemPopupStatBar';\nimport './itemPopupStats.scss';\n\nexport interface ItemPopupStatsProps {\n  armorStats?: ArmorStats;\n}\n\nfunction ItemPopupStats({ armorStats }: ItemPopupStatsProps): ReactElement {\n  return (\n    <div className=\"statsContainer\">\n      <div className=\"stat\">\n        <div className=\"statLabel\">\n          <span>Mobility:</span>\n        </div>\n        <div className=\"statValue\">{armorStats?.Mobility}</div>\n        <ItemPopupStatBar stat={armorStats?.Mobility} />\n      </div>\n      <div className=\"stat\">\n        <div className=\"statLabel\">\n          <span>Resilience:</span>\n        </div>\n        <div className=\"statValue\">{armorStats?.Resilience}</div>\n        <ItemPopupStatBar stat={armorStats?.Resilience} />\n      </div>\n      <div className=\"stat\">\n        <div className=\"statLabel\">\n          <span>Recovery:</span>\n        </div>\n        <div className=\"statValue\">{armorStats?.Recovery}</div>\n        <ItemPopupStatBar stat={armorStats?.Recovery} />\n      </div>\n      <div className=\"stat\">\n        <div className=\"statLabel\">\n          <span>Discipline:</span>\n        </div>\n        <div className=\"statValue\">{armorStats?.Discipline}</div>\n        <ItemPopupStatBar stat={armorStats?.Discipline} />\n      </div>\n      <div className=\"stat\">\n        <div className=\"statLabel\">\n          <span>Intellect:</span>\n        </div>\n        <div className=\"statValue\">{armorStats?.Intellect}</div>\n        <ItemPopupStatBar stat={armorStats?.Intellect} />\n      </div>\n      <div className=\"stat\">\n        <div className=\"statLabel\">\n          <span>Strength:</span>\n        </div>\n        <div className=\"statValue\">{armorStats?.Strength}</div>\n        <ItemPopupStatBar stat={armorStats?.Strength} />\n      </div>\n    </div>\n  );\n}\n\nexport default ItemPopupStats;\n","import React, { ReactElement, useEffect, useRef } from 'react';\nimport { Armor } from '../../scoring/items';\nimport './itemPopup.scss';\nimport ItemPopupStats from './ItemPopupStats';\n\nexport interface ItemPopupProps {\n  armorInfo?: Armor;\n  show: boolean;\n  onClickOutside: () => void;\n  top: number;\n  left: number;\n}\n\nfunction ItemPopup({ armorInfo, show, onClickOutside, top, left }: ItemPopupProps): ReactElement {\n  const ref = useRef<HTMLDivElement>(null);\n\n  const handleClickOutside = (event: any) => {\n    if (event.target) {\n      if (ref.current && !ref.current?.contains(event.target)) {\n        onClickOutside && onClickOutside();\n      }\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('click', handleClickOutside, true);\n    return () => {\n      document.removeEventListener('click', handleClickOutside, true);\n    };\n  });\n\n  const parentDivStyle = {\n    top,\n    left,\n  };\n\n  if (show) {\n    return (\n      <div ref={ref} className=\"modal\" style={parentDivStyle}>\n        <h3>{armorInfo?.name}</h3>\n        <div className=\"imgAndFlavor\">\n          <img src={armorInfo?.iconPath} />\n          <span>{armorInfo?.flavorText}</span>\n        </div>\n        <ItemPopupStats armorStats={armorInfo?.stats} />\n      </div>\n    );\n  }\n  return <></>;\n}\n\nexport default ItemPopup;\n","export interface Dictionary<T> {\n  [Key: string]: T;\n}\n\nexport const classHashMap: Dictionary<string> = {\n  '3655393761': 'Titan',\n  '671679327': 'Hunter',\n  '2271682572': 'Warlock',\n};\n\nexport const classTypeMap: Dictionary<string> = {\n  1: 'Hunter',\n  0: 'Titan',\n  2: 'Warlock',\n};\n\nexport const orderedClassKeys = [1, 0, 2];\n\nexport const vendorHashes: Dictionary<string> = {\n  350061650: 'Ada-1',\n  396892126: 'Devrim',\n  248695599: 'Drifter',\n  1576276905: 'Failsafe',\n  3603221665: 'Shaxx',\n  2190858386: 'Xur',\n  69482069: 'Zavala',\n};\n\nexport const statHashes: Dictionary<string> = {\n  2996146975: 'Mobility',\n  392767087: 'Resilience',\n  1943323491: 'Recovery',\n  1735777505: 'Discipline',\n  144602215: 'Intellect',\n  4244567218: 'Strength',\n};\n\nexport const armorTypes: Dictionary<string> = {\n  26: 'Helmet',\n  27: 'Gauntlets',\n  28: 'Chest',\n  29: 'Legs',\n};\n","import { DestinyInventoryItemDefinition, DestinyManifestSlice, DestinyStatDefinition } from 'bungie-api-ts/destiny2';\nimport { openDB } from 'idb';\n\n// TODO: make this a class\nasync function get<Type>(key: string): Promise<Type> {\n  const dbp = await openDB('destiny2-store', 1, {\n    upgrade(db) {\n      db.createObjectStore('d2');\n    },\n  });\n  return dbp.get('d2', key);\n}\n\nasync function set(key: string, val: any) {\n  const dbp = await openDB('destiny2-store', 1, {\n    upgrade(db) {\n      db.createObjectStore('d2');\n    },\n  });\n  return dbp.put('d2', val, key);\n}\n\n// async function del(key: string) {\n//   return (await dbp).delete('d2', key);\n// }\n// async function clear() {\n//   return (await dbp).clear('d2');\n// }\n// async function keys() {\n//   return (await dbp).getAllKeys('d2');\n// }\n\nexport async function storeManifest(\n  manifest: DestinyManifestSlice<['DestinyInventoryItemDefinition', 'DestinyStatDefinition']>,\n): Promise<void> {\n  await set('DestinyInventoryItemDefinition', manifest.DestinyInventoryItemDefinition);\n  // await set('DestinyStatDefinition', manifest.DestinyStatDefinition);\n}\n\nexport async function getDestinyStatDefinitionFromStore(): Promise<{ [key: number]: DestinyStatDefinition }> {\n  return await get('DestinyStatDefinition');\n}\n\nexport async function getDestinyInventoryItemDefinitionFromStore(): Promise<{\n  [key: number]: DestinyInventoryItemDefinition;\n}> {\n  return await get('DestinyInventoryItemDefinition');\n}\n","import { ArmorScoring } from '../scoring/scoring';\nimport Storage from './Storage';\n\nenum Locals {\n  SCORING = 'scoring',\n}\n\nexport interface Scoring {\n  [classKey: number]: ArmorScoring;\n}\n\nexport default class ScoringStorage extends Storage<Locals> {\n  private static instance?: ScoringStorage;\n\n  private constructor() {\n    super();\n  }\n\n  public static getInstance(): ScoringStorage {\n    if (!this.instance) {\n      this.instance = new ScoringStorage();\n    }\n    return this.instance;\n  }\n\n  public getScoring(): Scoring | undefined {\n    const scoring = this.get(Locals.SCORING);\n    if (scoring) return JSON.parse(scoring);\n\n    return undefined;\n  }\n\n  public setScoring(scoring: string): void {\n    this.set(Locals.SCORING, scoring);\n  }\n}\n","import tinygradient from 'tinygradient';\nimport ScoringStorage from '../storage/Scoring';\nimport { ArmorStats } from './items';\n\nexport class ArmorScoring {\n  public Mobility: number = 0;\n  public Resilience: number = 0;\n  public Recovery: number = 0;\n  public Discipline: number = 0;\n  public Intellect: number = 0;\n  public Strength: number = 0;\n\n  constructor(init?: Partial<ArmorScoring>) {\n    Object.assign(this, init);\n  }\n\n  getSortedSubGroup1(): number[] {\n    return [this.Mobility, this.Resilience, this.Recovery].sort((a, b) => b - a);\n  }\n\n  getSortedSubGroup2(): number[] {\n    return [this.Discipline, this.Intellect, this.Strength].sort((a, b) => b - a);\n  }\n}\n\nexport interface Score {\n  rawScore: number;\n  normalizedScore: number;\n  theoreticalMax: number;\n  theoreticalMin: number;\n}\n\nexport interface Colors {\n  colorHex: string;\n  normalizedColorHex: string;\n}\n\nexport function getScores(armorStats: ArmorStats, classType: number): Score {\n  const scoring = getScoring(classType);\n  const rawScore = getRawScore(armorStats, scoring);\n  const theoreticalMin = getTheoreticalMin(scoring);\n  const theoreticalMax = getTheoreticalMax(scoring);\n  const normalizedScore = getNormalizedScore(rawScore, theoreticalMin, theoreticalMax);\n\n  return { rawScore, normalizedScore, theoreticalMax, theoreticalMin };\n}\n\nexport function getRawScore(armorStats: ArmorStats, scoring: ArmorScoring): number {\n  let score = 0;\n  score += armorStats.Mobility * scoring.Mobility;\n  score += armorStats.Resilience * scoring.Resilience;\n  score += armorStats.Recovery * scoring.Recovery;\n  score += armorStats.Discipline * scoring.Discipline;\n  score += armorStats.Intellect * scoring.Intellect;\n  score += armorStats.Strength * scoring.Strength;\n  return score;\n}\n\nexport function getNormalizedScore(score: number, theoreticalMin: number, theoreticalMax: number): number {\n  return Math.round(((score - theoreticalMin) / Math.max(theoreticalMax - theoreticalMin, 1)) * 100);\n}\n\nexport function getColors(score: Score): Colors {\n  const gradient = tinygradient(['#FF0000', '#00FF00']);\n  const colorsRgb = gradient.rgb(Math.max(score.theoreticalMax - score.theoreticalMin, 2));\n  const colorHex = colorsRgb[Math.max(score.rawScore - score.theoreticalMin - 1, 0)].toHexString();\n  const colorsRgbNormalized = gradient.rgb(100);\n  const normalizedColorHex = colorsRgbNormalized[Math.max(score.normalizedScore - 1, 0)].toHexString();\n\n  return { colorHex, normalizedColorHex };\n}\n\nfunction getScoring(classType: number): ArmorScoring {\n  const scoringStorage = ScoringStorage.getInstance();\n\n  switch (classType) {\n    case 0:\n      return getTitanScoring(scoringStorage);\n    case 1:\n      return getHunterScoring(scoringStorage);\n    case 2:\n      return getWarlockScoring(scoringStorage);\n  }\n  return new ArmorScoring();\n}\n\nfunction getTitanScoring(scoringStorage: ScoringStorage): ArmorScoring {\n  const storedScoring = scoringStorage.getScoring();\n  if (storedScoring) {\n    return new ArmorScoring(storedScoring[0]);\n  }\n  return getDefaultTitanScoring();\n}\n\nfunction getHunterScoring(scoringStorage: ScoringStorage): ArmorScoring {\n  const storedScoring = scoringStorage.getScoring();\n  if (storedScoring) {\n    return new ArmorScoring(storedScoring[1]);\n  }\n  return getDefaultHunterScoring();\n}\n\nfunction getWarlockScoring(scoringStorage: ScoringStorage): ArmorScoring {\n  const storedScoring = scoringStorage.getScoring();\n  if (storedScoring) {\n    return new ArmorScoring(storedScoring[2]);\n  }\n  return getDefaultWarlockScoring();\n}\n\nexport function getDefaultTitanScoring(): ArmorScoring {\n  return new ArmorScoring({ Recovery: 3, Discipline: 2, Resilience: 1 });\n}\n\nexport function getDefaultHunterScoring(): ArmorScoring {\n  return new ArmorScoring({ Recovery: 3, Discipline: 2, Mobility: 1 });\n}\n\nexport function getDefaultWarlockScoring(): ArmorScoring {\n  return new ArmorScoring({ Recovery: 3, Discipline: 3 });\n}\n\nexport function getDefaultScoring(): ArmorScoring {\n  return new ArmorScoring({ Mobility: 1, Resilience: 1, Recovery: 1, Discipline: 1, Intellect: 1, Strength: 1 });\n}\n\nexport function getTheoreticalMin(armorScoring: ArmorScoring): number {\n  // per subgroup: highest weighting * lowest stat + medium weighting * medium stat + smallest weighting * highest stat\n\n  const sortedSubGroup1 = armorScoring.getSortedSubGroup1();\n  const sortedSubGroup2 = armorScoring.getSortedSubGroup2();\n\n  const plugs = [\n    [2, 10, 10],\n    [2, 2, 20],\n  ];\n\n  let min = Number.MAX_VALUE;\n  for (const plug of plugs) {\n    let subgroup1Score = 0;\n    let subgroup2Score = 0;\n    for (let i = 0; i < 3; i++) {\n      subgroup1Score += sortedSubGroup1[i] * plug[i];\n      subgroup2Score += sortedSubGroup2[i] * plug[i];\n    }\n\n    if (subgroup1Score + subgroup2Score < min) min = subgroup1Score + subgroup2Score;\n  }\n\n  return min;\n}\n\nexport function getTheoreticalMax(armorScoring: ArmorScoring): number {\n  const maxStatPossible = 30;\n  const minStatPossible = 2;\n\n  const sortedSubGroup1 = armorScoring.getSortedSubGroup1();\n  const sortedSubGroup2 = armorScoring.getSortedSubGroup2();\n\n  return (\n    maxStatPossible * (sortedSubGroup1[0] + sortedSubGroup2[0]) +\n    minStatPossible * (sortedSubGroup1[1] + sortedSubGroup1[2] + sortedSubGroup2[1] + sortedSubGroup2[2])\n  );\n}\n","import { DestinyInventoryItemDefinition, DestinyStat, DestinyVendorsResponse } from 'bungie-api-ts/destiny2';\nimport { armorTypes, statHashes as statHashesMap, vendorHashes } from '../hashes';\nimport { BUNGIE_ROOT } from '../helpers';\nimport { getDestinyInventoryItemDefinitionFromStore } from '../storage/IndexedDB';\nimport { Colors, getColors, getScores } from './scoring';\n\nexport async function getScorableItems(allVendors: { [key: number]: DestinyVendorsResponse }): Promise<ScorableItems> {\n  const classToArmor: ScorableItems = {};\n\n  const classTypes = Object.keys(allVendors).map((x) => parseInt(x));\n\n  const d2inventoryItems = await getDestinyInventoryItemDefinitionFromStore();\n\n  for (const classType of classTypes) {\n    classToArmor[classType] = {};\n\n    const availableVendorIds = Object.keys(allVendors[classType].itemComponents).map((x) => parseInt(x));\n    const vendorIds = Object.keys(vendorHashes)\n      .map((x) => parseInt(x))\n      .filter((x) => availableVendorIds.includes(x));\n    for (const vendorId of vendorIds) {\n      classToArmor[classType][vendorId] = await getArmor(allVendors[classType], vendorId, d2inventoryItems);\n    }\n  }\n\n  return classToArmor;\n}\n\nexport interface ScorableItems {\n  [classType: number]: VendorArmor;\n}\n\nexport interface VendorArmor {\n  [vendorHash: number]: SaleArmor;\n}\n\nexport interface SaleArmor {\n  [armorType: number]: Armor;\n}\n\nexport interface Armor {\n  saleKey?: number;\n  itemHash?: number;\n  armorType?: string;\n  stats?: ArmorStats;\n  rawScore?: number;\n  normalizedScore?: number;\n  colors?: Colors;\n  theoreticalMax?: number;\n  iconPath?: string;\n  name?: string;\n  flavorText?: string;\n}\n\nexport class ArmorStats {\n  public Mobility: number = 0;\n  public Resilience: number = 0;\n  public Recovery: number = 0;\n  public Discipline: number = 0;\n  public Intellect: number = 0;\n  public Strength: number = 0;\n\n  constructor(init?: Partial<ArmorStats>) {\n    Object.assign(this, init);\n  }\n}\n\nasync function getArmor(\n  vendors: DestinyVendorsResponse,\n  vendorHash: number,\n  d2inventoryItems: {\n    [key: number]: DestinyInventoryItemDefinition;\n  },\n): Promise<SaleArmor> {\n  const armor: SaleArmor = {};\n\n  if (vendors.sales.data) {\n    const saleItemsKeys = Object.keys(vendors.sales.data[vendorHash].saleItems).map((x) => parseInt(x));\n    const saleItems = vendors.sales.data[vendorHash].saleItems;\n    for (const saleItemKey of saleItemsKeys) {\n      const itemHash = saleItems[saleItemKey].itemHash;\n      const itemSubType = d2inventoryItems[itemHash].itemSubType;\n      const summaryItemHash = d2inventoryItems[itemHash].summaryItemHash!;\n      const iconPath = `${BUNGIE_ROOT}${d2inventoryItems[itemHash].displayProperties.icon}`;\n      const name = d2inventoryItems[itemHash].displayProperties.name;\n      const flavorText = d2inventoryItems[itemHash].flavorText;\n      if (isScorable(itemSubType) && summaryItemHash !== 715326750) {\n        armor[itemSubType] = {\n          itemHash,\n          saleKey: saleItemKey,\n          armorType: armorTypes[itemSubType],\n          iconPath,\n          name,\n          flavorText,\n        };\n      }\n    }\n  }\n\n  return armor;\n}\n\nfunction isScorable(itemSubType: number): boolean {\n  const armorTypeHashes = Object.keys(armorTypes).map((x) => parseInt(x));\n  return armorTypeHashes.includes(itemSubType);\n}\n\nexport async function getArmorScores(\n  scorableItems: ScorableItems,\n  allVendors: { [key: number]: DestinyVendorsResponse },\n) {\n  for (const classType in scorableItems) {\n    for (const vendorHash in scorableItems[classType])\n      for (const itemSubType in scorableItems[classType][vendorHash]) {\n        if (allVendors[classType].itemComponents[vendorHash].stats.data) {\n          const saleKey = scorableItems[classType][vendorHash][itemSubType].saleKey!;\n          const stats = allVendors[classType].itemComponents[vendorHash].stats.data![saleKey];\n          scorableItems[classType][vendorHash][itemSubType].stats = getStats(stats.stats);\n\n          const scores = getScores(scorableItems[classType][vendorHash][itemSubType].stats!, parseInt(classType));\n          const colors = getColors(scores);\n          scorableItems[classType][vendorHash][itemSubType].rawScore = scores.rawScore;\n          scorableItems[classType][vendorHash][itemSubType].normalizedScore = scores.normalizedScore;\n          scorableItems[classType][vendorHash][itemSubType].colors = colors;\n          scorableItems[classType][vendorHash][itemSubType].theoreticalMax = scores.theoreticalMax;\n        }\n      }\n  }\n  return scorableItems;\n}\n\nfunction getStats(stats: { [key: number]: DestinyStat }): ArmorStats {\n  const armorStats = new ArmorStats();\n\n  for (const statHash in stats) {\n    switch (statHashesMap[statHash]) {\n      case 'Mobility':\n        armorStats.Mobility = stats[statHash].value;\n        break;\n      case 'Resilience':\n        armorStats.Resilience = stats[statHash].value;\n        break;\n      case 'Recovery':\n        armorStats.Recovery = stats[statHash].value;\n        break;\n      case 'Discipline':\n        armorStats.Discipline = stats[statHash].value;\n        break;\n      case 'Intellect':\n        armorStats.Intellect = stats[statHash].value;\n        break;\n      case 'Strength':\n        armorStats.Strength = stats[statHash].value;\n        break;\n      default:\n        throw new Error('No idea what stat this is');\n    }\n  }\n\n  return armorStats;\n}\n","import Storage from './Storage';\n\nenum Locals {\n  MEMBERSHIP_INFO = 'membership_info',\n}\n\nexport interface MembershipInfo {\n  bungieMembershipId: string;\n  hunterId: string | null;\n  titanId: string | null;\n  warlockId: string | null;\n  destinyMembershipId: string;\n  membershipType: number;\n}\n\nexport default class MembershipInfoStorage extends Storage<Locals> {\n  private static instance?: MembershipInfoStorage;\n\n  private constructor() {\n    super();\n  }\n\n  public static getInstance(): MembershipInfoStorage {\n    if (!this.instance) {\n      this.instance = new MembershipInfoStorage();\n    }\n    return this.instance;\n  }\n\n  public getMembershipInfo(): MembershipInfo | undefined {\n    const membershipInfo = this.get(Locals.MEMBERSHIP_INFO);\n    if (membershipInfo) return JSON.parse(membershipInfo);\n\n    return undefined;\n  }\n\n  public setMembershipInfo(membershipInfo: string): void {\n    this.set(Locals.MEMBERSHIP_INFO, membershipInfo);\n  }\n}\n","import { ReactElement, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  getDestinyInventoryItemManifest,\n  getMembershipInfo,\n  getVendorsForAllCharacters,\n} from '../../bungie-api/destiny2-api';\nimport ItemPopup from '../../components/ItemPopup/ItemPopup';\nimport ScoreCell from '../../components/ScoreCell/ScoreCell';\nimport Spinner from '../../components/Spinner/Spinner';\nimport { armorTypes, classTypeMap, vendorHashes, orderedClassKeys as classKeys } from '../../hashes';\nimport { Armor, getArmorScores, getScorableItems as getScorableArmor, ScorableItems } from '../../scoring/items';\nimport {\n  getDestinyInventoryItemDefinitionFromStore,\n  getDestinyStatDefinitionFromStore,\n  storeManifest,\n} from '../../storage/IndexedDB';\nimport MembershipInfoStorage from '../../storage/Membership';\nimport TokenStorage from '../../storage/Tokens';\nimport './vendors.scss';\n\nexport interface Position {\n  top: number;\n  left: number;\n}\n\nfunction Vendors(): ReactElement {\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(true);\n  const [spinnerText, setSpinnerText] = useState('Loading Destiny manifest');\n  const [armorScores, setArmorScores] = useState<ScorableItems>();\n  const [showNormalized, setShowNormalized] = useState(true);\n  const [classMaxes, setClassMaxes] = useState<{ [key: number]: number }>({ 0: 0, 1: 0, 2: 0 });\n  const [orderedClassKeys, setOrderedClassKeys] = useState([...classKeys]);\n  const [orderedVendorKeys, setOrderedVendorKeys] = useState([\n    350061650, 396892126, 248695599, 1576276905, 3603221665, 2190858386, 69482069,\n  ]);\n  const [showItemPopup, setShowItemPopup] = useState(false);\n  const [itemPopupInfo, setItemPopupInfo] = useState({});\n  const [pos, setPos] = useState<Position>({ top: 0, left: 0 });\n\n  const tokenStorage = TokenStorage.getInstance();\n  const membershipInfoStorage = MembershipInfoStorage.getInstance();\n\n  const tokens = tokenStorage.getAllTokens();\n  let membershipId = '';\n\n  if (!tokens) {\n    console.info('Redirecting to Login');\n    history.push('/Login');\n    return <></>;\n  }\n  if (tokens) membershipId = tokens?.bungieMembershipId;\n\n  let membershipInfo = MembershipInfoStorage.getInstance().getMembershipInfo();\n\n  useEffect(() => {\n    getAllData();\n    // setLoading(false);\n  }, []);\n\n  async function getAllData() {\n    // const d2StatDef = await getDestinyStatDefinitionFromStore();\n    const d2invItemDef = await getDestinyInventoryItemDefinitionFromStore();\n    if (!d2invItemDef) {\n      const inventoryItemManifest = await getDestinyInventoryItemManifest();\n      setSpinnerText('Storing manifest');\n      await storeManifest(inventoryItemManifest);\n    }\n\n    if (!membershipInfo) {\n      setSpinnerText('Fetching Bungie Member Info');\n      membershipInfo = await getMembershipInfo(membershipId);\n      membershipInfoStorage.setMembershipInfo(JSON.stringify(membershipInfo));\n    }\n\n    if (membershipInfo) {\n      setSpinnerText('Fetching Vendor Inventories');\n      const allVendors = await getVendorsForAllCharacters(membershipInfo);\n\n      setSpinnerText('Getting scorable armor');\n      const scorableArmor = await getScorableArmor(allVendors);\n\n      setSpinnerText('Scoring armor');\n      const scores = await getArmorScores(scorableArmor, allVendors);\n      getCharacterMaxes(scores);\n      handleMissingKeys(scores);\n\n      setArmorScores(scores);\n    }\n    setLoading(false);\n  }\n\n  const handleCheckedChange = () => setShowNormalized(!showNormalized);\n  const handleCellClicked = (event: React.MouseEvent<HTMLButtonElement>, armorInfo: Armor) => {\n    setShowItemPopup(!showItemPopup);\n    setItemPopupInfo(armorInfo);\n    setPos({ top: event.pageY, left: event.pageX });\n    console.log(`Clicked item hash ${armorInfo.itemHash}`);\n  };\n\n  const getCharacterMaxes = (scores: ScorableItems) => {\n    const vendorHash = parseInt(Object.keys(scores[0])[0]);\n    const armorHash = 26;\n    const maxes: { [key: number]: number } = {};\n    for (let i = 0; i < 3; i++) {\n      if (i in scores) {\n        if (scores[i][vendorHash][armorHash].theoreticalMax) {\n          maxes[i] = scores[i][vendorHash][armorHash].theoreticalMax!;\n        }\n      }\n    }\n\n    setClassMaxes(maxes);\n  };\n\n  const handleMissingKeys = (scores: ScorableItems) => {\n    const classes = Object.keys(scores).map((x) => parseInt(x));\n    const filteredClasses = orderedClassKeys.filter((x) => classes.includes(x));\n    setOrderedClassKeys([...filteredClasses]);\n    const vendors = Object.keys(scores[filteredClasses[0]]).map((x) => parseInt(x));\n    const filteredVendors = orderedVendorKeys.filter((x) => vendors.includes(x));\n    setOrderedVendorKeys([...filteredVendors]);\n  };\n\n  return (\n    <div>\n      {!loading && (\n        <label>\n          Show Normalized Scores (0-100)\n          <input type=\"checkbox\" checked={showNormalized} onChange={handleCheckedChange} />\n        </label>\n      )}\n      {loading && <Spinner text={spinnerText} noOverlay={true} />}\n      <div className=\"vendorTable\">\n        {armorScores &&\n          orderedClassKeys.map((classKey) => (\n            <table className=\"table--flip\" key={classKey}>\n              <tbody>\n                <tr>\n                  <th>\n                    {classTypeMap[classKey]} {!showNormalized && `(${classMaxes[classKey]})`}\n                  </th>\n                  {orderedVendorKeys.map((vendorKey) => (\n                    <th key={vendorKey}>{vendorHashes[vendorKey]}</th>\n                  ))}\n                </tr>\n\n                {Object.keys(armorTypes)\n                  .map((x) => parseInt(x))\n                  .map((armorType) => (\n                    <tr key={armorType}>\n                      <th scope=\"row\">{armorTypes[armorType]}</th>\n                      {orderedVendorKeys.map((vendorHash) => {\n                        return (\n                          <td\n                            className=\"scoreCell\"\n                            key={vendorHash}\n                            style={{\n                              backgroundColor: showNormalized\n                                ? armorScores[classKey][vendorHash][armorType].colors?.normalizedColorHex\n                                : armorScores[classKey][vendorHash][armorType].colors?.colorHex,\n                            }}\n                          >\n                            <button\n                              onClick={(event: React.MouseEvent<HTMLButtonElement>) =>\n                                handleCellClicked(event, armorScores[classKey][vendorHash][armorType])\n                              }\n                            >\n                              {showNormalized\n                                ? armorScores[classKey][vendorHash][armorType].normalizedScore\n                                : armorScores[classKey][vendorHash][armorType].rawScore}\n                            </button>\n                          </td>\n                        );\n                      })}\n                    </tr>\n                  ))}\n              </tbody>\n            </table>\n          ))}\n        <ItemPopup\n          armorInfo={itemPopupInfo}\n          show={showItemPopup}\n          onClickOutside={() => {\n            setShowItemPopup(false);\n          }}\n          top={pos.top}\n          left={pos.left}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default Vendors;\n","import React, { ReactElement, useState } from 'react';\nimport { classTypeMap, orderedClassKeys } from '../../hashes';\nimport { ArmorScoring, getDefaultScoring } from '../../scoring/scoring';\nimport ScoringStorage from '../../storage/Scoring';\nimport './settings.scss';\n\nfunction Settings(): ReactElement {\n  const scoringStorage = ScoringStorage.getInstance();\n  const storedScoring = scoringStorage.getScoring();\n  const initialScoring = storedScoring\n    ? {\n        0: new ArmorScoring(storedScoring[0]),\n        1: new ArmorScoring(storedScoring[1]),\n        2: new ArmorScoring(storedScoring[2]),\n      }\n    : {\n        0: getDefaultScoring(),\n        1: getDefaultScoring(),\n        2: getDefaultScoring(),\n      };\n\n  const [settings, setSettings] = useState<{ [key: number]: ArmorScoring }>(initialScoring);\n  const [saveButtonText, setSaveButtonText] = useState('Save Changes');\n\n  const classes = [...orderedClassKeys];\n\n  function handleSubmit(e: React.SyntheticEvent) {\n    e.preventDefault();\n\n    scoringStorage.setScoring(JSON.stringify(settings));\n\n    setSaveButtonText('Saved!');\n    setTimeout(() => setSaveButtonText('Save Changes'), 2000);\n  }\n\n  function handleInputChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const { name, value } = e.target;\n    const [classType, stat] = name.split('-');\n\n    const characterSetting = settings[parseInt(classType)];\n    if (stat === 'Mobility') characterSetting.Mobility = parseInt(value);\n    if (stat === 'Resilience') characterSetting.Resilience = parseInt(value);\n    if (stat === 'Recovery') characterSetting.Recovery = parseInt(value);\n    if (stat === 'Discipline') characterSetting.Discipline = parseInt(value);\n    if (stat === 'Intellect') characterSetting.Intellect = parseInt(value);\n    if (stat === 'Strength') characterSetting.Strength = parseInt(value);\n\n    setSettings({ ...settings, [parseInt(classType)]: characterSetting });\n    console.log(`changing ${name} to ${value}`);\n  }\n\n  function handleResetClick() {\n    setSettings({\n      0: getDefaultScoring(),\n      1: getDefaultScoring(),\n      2: getDefaultScoring(),\n    });\n  }\n\n  return (\n    <>\n      <h2>Scoring Settings</h2>\n      <p>\n        Configure your own scoring here. This will affect the scores you see on the main page. For example, if you only\n        value <code>Recovery</code> on armor, you would set the <code>Recovery</code> field for your classes below to a\n        number. The score you would see for vendor armor would be: (<code>Recovery * number</code>)\n      </p>\n      <form onSubmit={handleSubmit}>\n        <div className=\"settings\">\n          {classes.map((classType) => (\n            <div className=\"characterSettings\" key={classType}>\n              <h3>{classTypeMap[classType]}</h3>\n              <label>\n                Mobility:{' '}\n                <input\n                  type=\"number\"\n                  name={`${classType}-Mobility`}\n                  onChange={handleInputChange}\n                  value={settings[classType].Mobility}\n                  className=\"statInput\"\n                  min=\"0\"\n                />{' '}\n              </label>\n              <label>\n                Resilience:{' '}\n                <input\n                  type=\"number\"\n                  name={`${classType}-Resilience`}\n                  onChange={handleInputChange}\n                  value={settings[classType].Resilience}\n                  className=\"statInput\"\n                  min=\"0\"\n                />{' '}\n              </label>\n              <label>\n                Recovery:{' '}\n                <input\n                  type=\"number\"\n                  name={`${classType}-Recovery`}\n                  onChange={handleInputChange}\n                  value={settings[classType].Recovery}\n                  className=\"statInput\"\n                  min=\"0\"\n                />{' '}\n              </label>\n              <label>\n                Discipline:{' '}\n                <input\n                  type=\"number\"\n                  name={`${classType}-Discipline`}\n                  onChange={handleInputChange}\n                  value={settings[classType].Discipline}\n                  className=\"statInput\"\n                  min=\"0\"\n                />{' '}\n              </label>\n              <label>\n                Intellect:{' '}\n                <input\n                  type=\"number\"\n                  name={`${classType}-Intellect`}\n                  onChange={handleInputChange}\n                  value={settings[classType].Intellect}\n                  className=\"statInput\"\n                  min=\"0\"\n                />{' '}\n              </label>\n              <label>\n                Strength:{' '}\n                <input\n                  type=\"number\"\n                  name={`${classType}-Strength`}\n                  onChange={handleInputChange}\n                  value={settings[classType].Strength}\n                  className=\"statInput\"\n                  min=\"0\"\n                />{' '}\n              </label>\n            </div>\n          ))}\n        </div>\n        <input type=\"button\" value=\"Clear Scoring\" onClick={handleResetClick} />\n        <input type=\"submit\" value={saveButtonText} onChange={handleInputChange} />\n      </form>\n    </>\n  );\n}\n\nexport default Settings;\n","import './app.scss';\nimport Spinner from './components/Spinner/Spinner';\nimport { ReactElement, useState } from 'react';\nimport Nav from './components/Nav/Nav';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Login from './pages/Login/Login';\nimport Callback from './pages/Callback/Callback';\nimport Vendors from './pages/Vendors/Vendors';\nimport Settings from './pages/Settings/Settings';\nimport TokenStorage from './storage/Tokens';\n\nfunction App(): ReactElement {\n  const [loading, _] = useState(false);\n\n  const tokenStorage = TokenStorage.getInstance();\n  // const membershipInfoStorage = MembershipInfoStorage.getInstance();\n\n  const tokens = tokenStorage.getAllTokens();\n  const isAuthed = tokens ? true : false;\n\n  return (\n    <div className=\"App\">\n      <Nav isAuthorized={isAuthed} />\n      <Switch>\n        <Route exact={true} path=\"/login\" component={Login} />\n        <Route exact={true} path=\"/vendors\" component={Vendors} />\n        <Route exact={true} path=\"/\" component={Vendors} />\n        <Route exact={true} path=\"/callback\" component={Callback} />\n        <Route exact={true} path=\"/settings\" component={Settings} />\n        <Redirect to=\"/\" />\n      </Switch>\n      {loading && <Spinner text=\"Loading Destiny manifest\" noOverlay={false} />}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}